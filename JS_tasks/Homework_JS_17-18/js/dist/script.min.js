function check(){for(var b=0;b<myObj.length;b++){count=0,textResult="";for(var c=0;c<myObj[b].answers.length;c++)inputs[a].checked==myObj[b].answers[c].correct?(count++,inputs[a].checked===!0&&(textResult+=myObj[b].answers[c].text+"<br/>")):myObj[b].answers[c].correct===!1&&(textResult+=myObj[b].answers[c].text+"<br/>"),a++;wrongRight=document.createElement("ol"),question=document.createElement("li"),answer=document.createElement("li"),question.innerHTML=myObj[b].text,answer.innerHTML="Ваш ответ:<br/>"+textResult,textWithResults.appendChild(wrongRight),wrongRight.appendChild(question),wrongRight.appendChild(answer),count<myObj[b].answers.length?answer.classList.add("wrong"):(answer.classList.add("right"),result++)}result<=myObj.length-2?resume.innerHTML="<p>Человечеству свойственно ошибаться</p>":result==myObj.length?resume.innerHTML="<p>Вы прошли тест более, чем успешно!</p>":resume.innerHTML="<p>Вы можете лучше :)</p>"}function showModal(){modalWindow.style.display="block"}function resetAnswers(){for(var b=0;b<inputs.length;b++)inputs[b].checked=!1;result=0,count=0,a=0}function resetText(){array=textWithResults.getElementsByTagName("ol");for(var a=0;a<array.length;a=0)array[a].remove()}function hideModal(){modalWindow.style.display="none"}var myObj=[{text:"Что такое Javascript?",answers:[{text:"Библиотека",correct:!1},{text:"Фреймворк",correct:!1},{text:"Язык программирования",correct:!0}]},{text:"Зачем разработчику знать верстку?",answers:[{text:"Чтобы быть, как все",correct:!1},{text:"Чтобы понимать работу JS",correct:!0},{text:"Чтобы выучить PHP",correct:!1}]},{text:"Чем удобен Bootstrap?",answers:[{text:"Можно быстро сделать красивый сайт",correct:!0},{text:"На нём может работать обычный пользователь",correct:!1},{text:"Очень легко и весело поддерживать",correct:!1}]}];localStorage.setItem("quiz",JSON.stringify(myObj));var questionary=localStorage.getItem("quiz"),ol,h3,li,label,elems,button,input,count,array,question,answer,textResult,wrongRight,a=0,result=0,inputs=document.getElementsByTagName("input"),labels=document.getElementsByTagName("label"),modalWindow=document.querySelector(".overlay"),modal=document.querySelector(".modal"),resume=document.createElement("div"),paragraph=document.querySelector(".questionRepeat"),textWithResults=document.querySelector(".results"),ok=document.querySelector(".btn"),test={form:document.body,createHeader:function(a){h3=document.createElement("h3"),h3.innerHTML=a,this.form.appendChild(h3),this.getGrid(h3)},createOl:function(){ol=document.createElement("ol"),this.form.appendChild(ol)},getGrid:function(a){a==h3||a==button?(a.classList.add("col-xs-8"),a.classList.add("col-xs-offset-2"),a.classList.add("col-sm-4"),a.classList.add("col-sm-offset-2"),a.classList.add("col-md-3"),a.classList.add("col-md-offset-2"),a.classList.add("col-lg-3"),a.classList.add("col-lg-offset-1")):(a.classList.add("col-xs-12"),a.classList.add("col-sm-12"),a.classList.add("col-md-12"),a.classList.add("col-lg-12"))},createLi:function(a){li=document.createElement("li"),li.innerHTML=a,li.style.marginTop="10px",li.style.marginBottom="10px",ol.appendChild(li),this.getGrid(li)},createInput:function(a){label=document.createElement("label"),label.innerHTML="<input>"+a,ol.appendChild(label),this.getGrid(label)},changeTypeForInput:function(){elems=document.querySelectorAll("input:not([type=button])");for(var a=0;a<elems.length;a++)elems[a].setAttribute("type","checkbox")},createButton:function(){button=document.createElement("button"),button.addEventListener("click",check),button.addEventListener("click",showModal),button.innerHTML="Проверить мои результаты",button.classList.add("button"),this.form.appendChild(button),this.getGrid(button)}},questionary=localStorage.getItem("quiz"),myObj=JSON.parse(questionary);$(function(){var a=$("#questions").html(),b=tmpl(a,{data:myObj});$("body").append(b)}),modal.insertBefore(resume,textWithResults),resume.classList.add("resume"),ok.addEventListener("click",resetText),ok.addEventListener("click",resetAnswers),ok.addEventListener("click",hideModal),function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}();